<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>coffetube</title>
  <link href="style.css" rel="stylesheet" type="text/css" />
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
  <link rel="icon" href="favicon.ico" type="image/x-icon">
</head>

<body>
  <!-- Conteúdo do corpo do site -->
  <h1>coffetube</h1>
  <nav>
    <a href="upload.html">enviar</a>
  </nav>
  <h1>------------------------------------------------------------------</h1>
  <div id="video-container1"></div>
  <div id="video-container2"></div>
  <div id="video-container3"></div>
  <div id="video-container4"></div>

  <!-- Input para pesquisa -->
  <input type="text" id="search-input" placeholder="Pesquisar vídeos">
  <h1>------------------------------------------------------------------</h1>
  <script src="script.js"></script>
  

  <script>
    // Função para fazer a requisição do arquivo JSON e exibir vídeos aleatórios
    async function fetchAndDisplayRandomVideos() {
      try {
        const response = await fetch('https://raw.githubusercontent.com/Sldark23/Lista-de-v-deo-Coffetube/main/v%C3%ADdeos.json'); // Substitua 'URL_DO_SEU_ARQUIVO_JSON' pela URL real do seu arquivo JSON
   const data = await response.json();
        exibirVideosAleatorios(data);
      } catch (error) {
        console.error('Erro ao buscar e exibir vídeos:', error);
      }
    }

    // Função para exibir vídeos aleatórios na tela
    function exibirVideosAleatorios(videosList) {
      const container1 = document.getElementById("video-container1");
      const container2 = document.getElementById("video-container2");
      const container3 = document.getElementById("video-container3");
      const container4 = document.getElementById("video-container4");

      // Limpa os contêineres antes de exibir novos vídeos
      container1.innerHTML = "";
      container2.innerHTML = "";
      container3.innerHTML = "";
      container4.innerHTML = "";

      // Embaralha a lista de vídeos
      const shuffledVideos = videosList.sort(() => Math.random() - 0.5).slice(0, 4);

      // Exibe os vídeos nos contêineres
      for (let i = 0; i < shuffledVideos.length; i++) {
        const video = shuffledVideos[i];
        const iframe = document.createElement("iframe");
        iframe.src = video.src;
        iframe.width = "560";
        iframe.height = "315";
        iframe.allowfullscreen = true;

        // Adiciona o vídeo ao contêiner correspondente
        if (i === 0) {
          container1.appendChild(iframe);
        } else if (i === 1) {
          container2.appendChild(iframe);
        } else if (i === 2) {
          container3.appendChild(iframe);
        } else if (i === 3) {
          container4.appendChild(iframe);
        }
      }
    }

    // Função para pesquisar vídeos
    function pesquisarVideos() {
      const searchTerm = document.getElementById("search-input").value.toLowerCase();

      // Filtra os vídeos com base no termo de pesquisa
      const filteredVideos = videos.filter(video => video.title.toLowerCase().includes(searchTerm));

      // Exibe os vídeos filtrados
      exibirVideosAleatorios(filteredVideos);
    }

    // Chamada inicial para buscar e exibir vídeos aleatórios ao carregar a página
    fetchAndDisplayRandomVideos();     
     </script>
</body>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EZ1Z9TF8TZ"></script>
</html>
